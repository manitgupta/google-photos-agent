{% extends 'base.html' %}

{% block title %}My Memories{% endblock %}

{% block favicon %}
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“œ</text></svg>">
{% endblock %}

{% block content %}
    <h2 style="animation: fadeIn 0.5s ease-in-out;">My Memories</h2>

    {% if memories %}
        <div class="memory-grid">
            {% for memory in memories %}
                <div class="memory-card">
                    <h3>{{ memory.memory_title }}</h3>
                    <p>{{ memory.memory_description }}</p>
                    
                    {% if memory.memory_media %}
                        <div class="memory-card-photos">
                            {% for media_url in memory.memory_media %}
                                <img src="{{ media_url }}" alt="Memory media" class="memory-photo-thumb">
                            {% endfor %}
                        </div>
                    {% endif %}

                    <small class="timestamp">{{ memory.creation_timestamp|humanize_datetime }}</small>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <i class="fas fa-book-open"></i>
            <p>You haven't created any memories yet.</p>
            <p><a href="{{ url_for('chatbot') }}">Create one with the chatbot!</a></p>
        </div>
    {% endif %}

    <!-- Photo Viewer Modal -->
    <div id="photo-viewer" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="full-photo">
    </div>
{% endblock %}