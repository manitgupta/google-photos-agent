{% extends 'base.html' %}

{% block title %}My Photos{% endblock %}

{% block favicon %}
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üñºÔ∏è</text></svg>">
{% endblock %}

{% block content %}
    {% if user %}
        <div class="user-profile">
            <img src="{{ user.photo_location }}" alt="{{ user.name }}'s profile picture" class="profile-pic">
            <h2 style="animation: fadeIn 0.5s ease-in-out;">{{ user.name }}'s Photos</h2>
        </div>
    {% endif %}

    {% if photos %}
        <div class="photo-grid">
            {% for photo in photos %}
                <div class="photo-item">
                    <img src="{{ photo.photo_location }}" alt="Photo by {{ user.name if user else 'user' }}">
                    <div class="photo-overlay">
                        <div class="people-in-photo">
                            {% if photo.photo_id in people_in_photos %}
                                <i class="fas fa-user-friends"></i>
                                {{ people_in_photos[photo.photo_id]|join(', ') }}
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <i class="fas fa-image"></i>
            <p>No photos yet. Your uploaded photos will appear here.</p>
        </div>
    {% endif %}

    <div id="photo-viewer" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="full-photo">
    </div>
{% endblock %}